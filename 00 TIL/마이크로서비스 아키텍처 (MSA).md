---
created: 2025-02-04 16:49
category:
  - design-pattern
tags:
  - TIL
last_modified: 2025-02-04T17:43:00
---
## â­ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ (Microservices Architecture)
### ðŸª ê°œë…
- ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìž‘ì€ ë‹¨ìœ„ì˜ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë“¤ë¡œ êµ¬ì„±í•˜ëŠ” ì•„í‚¤í…ì²˜ ìŠ¤íƒ€ì¼.
- ê° ì„œë¹„ìŠ¤ëŠ” íŠ¹ì •í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ë©°, ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ, ë°°í¬, í™•ìž¥ ë° ìœ ì§€ë³´ìˆ˜í•  ìˆ˜ ìžˆë‹¤.
- ì„œë¡œ ë‹¤ë¥¸ í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.
- ì¼ë°˜ì ìœ¼ë¡œ API(REST, gRPC ë“±)ë¥¼ í†µí•´ ì„œë¡œ í†µì‹ í•˜ë©°, ë¶„ì‚° ì‹œìŠ¤í…œì„ êµ¬ì„±í•œë‹¤.
---
### ðŸª ê¸°ì¡´ ë°©ì‹ê³¼ì˜ ì°¨ì´
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ëŠ” ê¸°ì¡´ ë°©ì‹([[ëª¨ë†€ë¦¬ì‹ ì•„í‚¤í…ì²˜]])ê³¼ ëŒ€ì¡°ë˜ë©°, í˜„ëŒ€ì ì¸ í´ë¼ìš°ë“œ ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë„ë¦¬ ì‚¬ìš©ëœë‹¤.
- ê¸°ì¡´ ì‹œìŠ¤í…œì€ í•˜ë‚˜ì˜ ì‹œìŠ¤í…œ ìžì›ì„ ê³µìœ í•˜ë©°, í•˜ë‚˜ì˜ ë©ì–´ë¦¬ì•ˆì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” ì´ì™€ ë°˜ëŒ€ë¡œ, ì—¬ëŸ¬ê°œì˜ ì„œë²„ì—ì„œ ê°ê¸° ë‹¤ë¥¸ í”„ë ˆìž„ì›Œí¬ë¡œ, ê°œë³„ì  Databaseë¥¼ ì´ìš©í•´ ë…ë¦½ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ í•œë‹¤.
- ì„œë¹„ìŠ¤ë¥¼ ìž‘ì€ ë‹¨ìœ„ë¡œ ìª¼ê°°ê¸°ë•Œë¬¸ì— CI/CD(ì§€ì†ì í†µí•©/ì§€ì†ì ì œê³µ)ì˜ ì ìš©ì´ ì í•©í•˜ë‹¤.
- ìž‘ì€ ë‹¨ìœ„ë¡œì˜ ì„œë¹„ìŠ¤ ë¶„ë¦¬ë¡œ ì¸í•´ ëª¨ë†€ë¦¬ì‹ì„œë¹„ìŠ¤ë³´ë‹¤ ë” ë§Žì€ ì„œë²„ì™€ ì¸ë ¥, ë¹„ìš©ì´ í•„ìš”í•˜ë‹¤. (+ ì¸ë ¥ ê°„ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ ëŠë ¤ì§ˆ ìˆ˜ ìžˆë‹¤. )
- ![Monolith VS Microservices](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcMDvmp%2FbtrzwmCsL0l%2Fzm6i6I7lbr18rSwvjeKzd0%2Fimg.png)
---
### ðŸª íŠ¹ì§•
#### ðŸ¬ ì„œë¹„ìŠ¤ì˜ ë…ë¦½ì„±
- í•˜ë‚˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—¬ëŸ¬ ê°œì˜ ìž‘ì€ ì„œë¹„ìŠ¤ë¡œ ë‚˜ëˆ„ì–´ ê´€ë¦¬í•œë‹¤.
- ê° ì„œë¹„ìŠ¤ëŠ” íŠ¹ì •í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ì„ ë‹´ë‹¹í•œë‹¤.
- ì„œë¹„ìŠ¤ë³„ë¡œ ê°œë³„ì  ë°°í¬ê°€ ê°€ëŠ¥í•˜ë‹¤ -> ì „ì²´ ì‹œìŠ¤í…œì„ ì¤‘ë‹¨í•˜ì§€ ì•Šê³ ë„ ì—…ë°ì´íŠ¸ê°€ ê°€ëŠ¥í•˜ë‹¤.
- íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ í™•ìž¥([[Scale-upê³¼ Scale-out|Scale-out]])í•  ìˆ˜ë„ ìžˆì–´ íš¨ìœ¨ì ì¸ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
- ì„œë¹„ìŠ¤ë³„ë¡œ ë‹¤ë¥¸ ê¸°ìˆ  ìŠ¤íƒì„ ì„ íƒí•  ìˆ˜ ìžˆë‹¤.
	- ex: ì£¼ë¬¸ ì„œë¹„ìŠ¤(Java, MySQL), ê²°ì œ ì„œë¹„ìŠ¤(Node.js, MongoDB)
#### ðŸ¬ ë¶„ì‚° ì‹œìŠ¤í…œ ë° ì„œë¹„ìŠ¤ ê°„ í†µì‹ 
- ì„œë¹„ìŠ¤ ê°„ì—ëŠ” ì£¼ë¡œ HTTP/REST API, gRPC, ë©”ì‹œì§€ í(Kafka, RabbitQM) ë“±ì„ ì´ìš©í•˜ì—¬ í†µì‹ í•œë‹¤.
- ì„œë¹„ìŠ¤ ê°„ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì´ í•„ìˆ˜ì  -> ìž¥ì•  ë°œìƒ ì‹œ ì´ë¥¼ ê³ ë ¤í•œ ì„¤ê³„ê°€ í•„ìš”í•˜ë‹¤.
#### ðŸ¬ ë…ë¦½ì ì¸ ë°ì´í„° ê´€ë¦¬
- ê° ì„œë¹„ìŠ¤ëŠ” ìžì‹ ë§Œì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìžˆë‹¤.
- ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê³µìœ í•˜ì§€ ì•Šìœ¼ë©°, DB ì—°ë™ì´ í•„ìš”í•  ê²½ìš° API ë˜ëŠ” ì´ë²¤íŠ¸ ê¸°ë°˜ ë°©ì‹ì„ í™œìš©í•œë‹¤.
#### ðŸ¬ ìž¥ì•  ê²©ë¦¬ (Fault Isolation)
- íŠ¹ì • ì„œë¹„ìŠ¤ì— ìž¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ ì „ì²´ ì‹œìŠ¤í…œì´ ì˜í–¥ì„ ë°›ì§€ ì•Šë„ë¡ ì„¤ê³„í•œë‹¤.
- Circuit Breaker íŒ¨í„´ (ex: Netflix Hystrix) ë“±ì„ ì ìš©í•˜ì—¬ ìž¥ì•  ì „íŒŒë¥¼ ë°©ì§€í•œë‹¤.
---
### ðŸª ìž¥ë‹¨ì 
#### ðŸ¬ ìž¥ì 
- ë‹¤ì–‘í•œ ê¸°ìˆ ìŠ¤íƒ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
	- ê° ì„œë¹„ìŠ¤ì— ì í•©í•œ ê¸°ìˆ ì„ ì„ íƒí•  ìˆ˜ ìžˆë‹¤.
- íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ë…ë¦½ì ìœ¼ë¡œ í™•ìž¥ì´ ê°€ëŠ¥í•˜ë‹¤.
	- ex: ì£¼ë¬¸ì„œë¹„ìŠ¤ê°€ íŠ¸ëž˜í”½ì´ ë§Žë‹¤ë©´ í•´ë‹¹ ì„œë¹„ìŠ¤ë§Œ Scale-upí•œë‹¤.
- ìž‘ì€ ì„œë¹„ìŠ¤ ë‹¨ìœ„ë¡œ ê°œë°œ ë° ë°°í¬ê°€ ê°€ëŠ¥í•˜ë‹¤.
	- ê°œë°œ ì†ë„ê°€ ë¹ ë¥´ê³ , ì‹¤í—˜ì  ê¸°ëŠ¥ì„ ë¹ ë¥´ê²Œ ë„ìž…í•  ìˆ˜ ìžˆë‹¤.
	- CI/CD ì ìš©ì´ ìš©ì´í•˜ë‹¤.
- í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí•´ë„ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤. (ìž¥ì•  ê²©ë¦¬)
- ì„œë¹„ìŠ¤ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì‰½ë‹¤.
	- ì„œë¹„ìŠ¤ê°€ ìž‘ê³  ëŒ€ë¶€ë¶„ì´ ì§€ì •ëœ ì¸í„°íŽ˜ì´ìŠ¤ì— ì˜í•´ êµ¬ì„±ë˜ì–´, ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” ì¸í„°íŽ˜ì´ìŠ¤ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸ì— ì§‘ì¤‘í•˜ë©´ ëœë‹¤.

#### ðŸ¬ ë‹¨ì 

| ë‹¨ì                          | í•´ê²° ë°©ì•ˆ                                  |
| -------------------------- | -------------------------------------- |
| ì„œë¹„ìŠ¤ ê°„ ë„¤íŠ¸ì›Œí¬ í†µì‹  ë¶€ë‹´ ì¦ê°€        | API Gateway, ë©”ì‹œì§€ í(Kafka, RabbitMQ) í™œìš© |
| ë°ì´í„° ì¼ê´€ì„± ìœ ì§€ ì–´ë ¤ì›€             | ì´ë²¤íŠ¸ ì†Œì‹±(Event Sourcing), SAGA íŒ¨í„´ í™œìš©     |
| ë¶„ì‚° ì‹œìŠ¤í…œìœ¼ë¡œ ì¸í•´ ë°°í¬ ë° ìš´ì˜ ë³µìž¡ë„ ì¦ê°€ | ì»¨í…Œì´ë„ˆ(Docker, Kubernetes) ë° ìžë™í™” ë„êµ¬ í™œìš©   |
| ì„œë¹„ìŠ¤ ê°„ ìž¥ì•  ì „íŒŒ ê°€ëŠ¥ì„±            | Circuit Breaker íŒ¨í„´, ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•        |
| ì´ˆê¸° êµ¬ì¶• ë¹„ìš© ë° ì‹œê°„ ì¦ê°€           | ì ì§„ì  ì „í™˜(ëª¨ë†€ë¦¬ì‹ â†’ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤)                 |

---
### ðŸª ì‚¬ìš© ì‚¬ë¡€
- Netflix
- Google: Gmail, Youtube ë“± ë‹¤ì–‘í•˜ë‚˜ ì„œë¹„ìŠ¤ë¥¼ ê°œë³„ì ìœ¼ë¡œ ìš´ì˜.
- Amazon: ì œí’ˆ ì¹´íƒˆë¡œê·¸, ìž¥ë°”êµ¬ë‹ˆ, ì£¼ë¬¸ ì²˜ë¦¬ ë“±ì„ ë³„ë„ ì„œë¹„ìŠ¤ë¡œ ìš´ì˜
- Uber: ìŠ¹ê° ë§¤ì¹­, ê²°ì œ, ë‚´ë¹„ê²Œì´ì…˜ ë“±ì„ ë…ë¦½ ì„œë¹„ìŠ¤ë¡œ êµ¬ì„±.
---
### ðŸª ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ê°€ ì í•©í•œ ê²½ìš°
- ëŒ€ê·œëª¨ íŠ¸ëž˜í”½ì„ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ê²½ìš°.
- ì—¬ëŸ¬ íŒ€ì´ ë³‘ë ¬ì ìœ¼ë¡œ ê°œë°œí•´ì•¼ í•˜ëŠ” ê²½ìš°.
- ì„œë¹„ìŠ¤ë³„ ë…ë¦½ì ì¸ ë°°í¬ ë° í™•ìž¥ì´ í•„ìš”í•œ ê²½ìš°.
- ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°.

> ìž‘ì€ ê·œëª¨ì˜ í”„ë¡œì íŠ¸ë¼ë©´, ìœ ì§€ë³´ìˆ˜ ë¶€ë‹´ì´ ì¦ê°€í•  ìˆ˜ ìžˆìœ¼ë¯€ë¡œ ëª¨ë†€ë¦¬ì‹ ì•„í‚¤í…ì²˜ê°€ ë” ì í•©í•  ìˆ˜ ìžˆë‹¤.
---
## ðŸ§™â€â™‚ï¸ ìš”ì•½
> ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜(MSA)ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìž‘ì€ ë‹¨ìœ„ì˜ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬í•˜ì—¬ ê°œë°œ, ë°°í¬, í™•ìž¥ ë° ìœ ì§€ë³´ìˆ˜ë¥¼ ìš©ì´í•˜ê²Œ í•˜ëŠ” ì•„í‚¤í…ì²˜ ìŠ¤íƒ€ì¼ì´ë‹¤.

- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ vs ëª¨ë†€ë¦¬ì‹
	- ëª¨ë†€ë¦¬ì‹: í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ì• í”Œë¦¬ì¼€ì´ì…˜
	- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤: ì—¬ëŸ¬ê°œì˜ ë…ë¦½ì ì¸ ìž‘ì€ ì„œë¹„ìŠ¤
	- CI/CD ë° í™•ìž¥ì„±ì— ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ê°€ ìœ ë¦¬í•˜ì§€ë§Œ, ìš´ì˜ ë° ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ì¦ê°€.

- íŠ¹ì§•
	- ë…ë¦½ì„±: íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ì—…ë°ì´íŠ¸, ë°°í¬, í™•ìž¥ ê°€ëŠ¥
	- ë¶„ì‚° ì‹œìŠ¤í…œ: ì„œë¹„ìŠ¤ê°„ í†µì‹  í•„ìš”, ìž¥ì•  ëŒ€ë¹„ ì„¤ê³„ í•„ìš”
	- ë…ë¦½ì  ë°ì´í„° ê´€ë¦¬
	- ìž¥ì•  ê²©ë¦¬

- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ëŠ” ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ ìš´ì˜ì— ì í•©í•˜ì§€ë§Œ, ì„¤ê³„ì™€ ìš´ì˜ì´ ë³µìž¡í•˜ì—¬ ì¶©ë¶„í•œ ê³ ë ¤ê°€ í•„ìš”í•˜ë‹¤.
---
### ðŸ“ ì¶”ê°€ í•™ìŠµ
- ëª¨ë†€ë¦¬ì‹ ì•„í‚¤í…ì²˜
- ë©”ì‹œì§€í?
---
> **ì°¸ê³ ì‚¬ì´íŠ¸**
> - [01-ë¸”ë¡œê·¸](https://freeend.tistory.com/115)
> - [02-AWS](https://aws.amazon.com/ko/microservices/)
> - [03-ë¸”ë¡œê·¸](https://gruuuuu.github.io/cloud/architecture-microservice/)
> - [04-ë¸”ë¡œê·¸(í´ë¼ìš°ë“œì™€ MSA)](https://blog.naver.com/yooncoms/222864186095)
> - [05-ì¿ íŒ¡ì˜ MSA ì „í™˜](https://medium.com/coupang-engineering/how-coupang-built-a-microservice-architecture-fd584fff7f2b)
> - ChatGPT
