---
created: 2025-01-10 19:21
category:
  - OS
tags:
  - TIL
---
## ⭐ 블로킹과 논블로킹, 동기와 비동기
#### 🍪 제어권이란?
- 자신(함수)의 코드를 실행할 권리 같은 것.
- 제어권을 가진 함수는 **자신의 코드를 끝까지 실행한 후, 자신을 호출한 함수에게 돌려준다**.

#### 🍪 동기와 비동기
>- **호출되는 함수의 작업 완료 여부를 함수가 체크하는지**를 기준으로 구분
>- 작업의 실행 방식을 나타낸다.

###### 🍬 동기
- 한 작업이 끝나야 다음 작업이 시작되는 **순차적**인 처리 방식.
- 작업 완료를 기다리는 동안 다른 작업을 수행할 수 없다.

> 함수의 작업 완료 여부를 호출한 함수가 체크한다.

###### 🍬 비동기
- 비동기 방식에서는 한 작업이 끝나기를 기다리지 않고 다음 작업을 실행할 수 있다.
- 작업의 완료 여부와 상관없이 **다른 작업을 동시에 진행**할 수 있다.
- ex: **I/O 작업**이나 **네트워크 요청** 등 (**대기시간이 긴 작업**)에 유용하다. 
	- 완료를 기다리는 동안 다른 작업을 수행함으로써 전체적인 프로그램의 효율성을 높일 수 있기 때문.

> 호출하는 함수의 작업 완료 여부를 신경쓰지 않는다.
> (**별도의 스레드로 빼서 실행**하고 완료하면 호출하는 측에 알려준다.)

---
#### 🍪 블로킹과 논블로킹
> - **호출된 함수가 리턴될 때까지 대기하는가? 아니면 제어권을 넘겨주고 다른 일을 할 수 있도록 하는가?** 의 차이
> - **제어권을 어떻게 처리**하느냐에 따라 달라진다.

###### 🍬 블로킹
- I/O 작업 (ex: 파일읽기, 네트워크요청)을 할 때, 해당 작업이 **완료될 때까지 프로그램의 실행이 멈춘다**.
- I/O 작업이 완료되기 전까지 다른 어떤 작업도 수행할 수 없다.
	- 요청한 작업이 **완료될 때까지 프로그램의 실행을 일시중지** 시키기 때문.

> **호출된 함수가 작업을 모두 마칠 때까지 제어권**을 가지고 있고 **호출한 함수는 대기**한다.
###### 🍬 논블로킹
- I/O 작업을 요청한 후에도 프로그램의 **실행이 멈추지 않고 즉시 다음 작업으로** 넘어갈 수 있다.
- I/O 작업 완료 여부와 상관없이 **프로그램이 계속해서 실행**될 수 있다.

- 이벤트 기반 프로그래밍이나 콜백 함수를 사용하는 비동기 프로그래밍에서 자주 사용된다.
	-  I/O 작업의 대기 시간 동안에도 다른 작업을 수행할 수 있어 전체적인 프로그램의 효율성을 높일 수 있기 때문.

> 호출된 함수가 **바로 제어권을 리턴**하고, **콜백을 할 때까지 호출한 함수가 다른 일을 수행**할 수 있다.
---
#### 🍪 사진으로 이해하기
- [이미지 출처](https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC)
![[Blocking-NonBlocking-Sync-Async.png]]
###### 🍬 Synchronous + Blocking  
- 동기: 함수의 작업 완료 여부를 호출한 함수가 체크.
- 블로킹: **호출된 함수가 작업을 모두 마칠 때까지 제어권**을 가지고 있고 **호출한 함수는 대기**.

>- 함수 A는 함수 B의 리턴값을 필요로 한다(**동기**). 
>	- 제어권을 함수 B에게 넘겨주고, 함수 B가 실행을 완료하여 리턴값과 제어권을 돌려줄때까지 기다린다(**블로킹**).
###### 🍬 Synchronous + Non-Blocking  
- 동기: 함수의 작업 완료 여부를 호출한 함수가 체크.
- 논블로킹: 호출된 함수가 **바로 제어권을 리턴**하고, **콜백을 할 때까지 호출한 함수가 다른 일을 수행** 가능.

>- 이 때 A 함수는 B 함수에게 제어권을 즉시 받음, 자신의 코드를 계속 실행(**논블로킹**)
>	- 그런데 A 함수는 중간중간 B 함수에게 함수 실행을 완료했는지 체크한다.(**동기**)
###### 🍬 ASynchronous + Blocking  
- 비동기: 호출하는 함수의 **작업 완료 여부를 신경쓰지 않는다**(**별도의 스레드로 빼서 실행**하고 완료하면 호출하는 측에 알려준다.)
- 블로킹: **호출된 함수가 작업을 모두 마칠 때까지 제어권**을 가지고 있고 **호출한 함수는 대기**.

>- A 함수는 B 함수의 리턴값에 신경쓰지 않고, 콜백함수를 보낸다(**비동기**).
>	- 그런데, B 함수의 작업에 관심없음에도 불구하고, A 함수는 B 함수에게 제어권을 넘긴다(**블로킹**).
###### 🍬 ASynchronous + Non-Blocking  
- 비동기: 호출하는 함수의 **작업 완료 여부를 신경쓰지 않는다**(**별도의 스레드로 빼서 실행**하고 완료하면 호출하는 측에 알려준다.)
- 논블로킹: 호출된 함수가 **바로 제어권을 리턴**하고, **콜백을 할 때까지 호출한 함수가 다른 일을 수행** 가능.

> - 제어권을 즉시 받음.(**논블로킹**). 따라서 호출한 이후에도 자신의 코드를 계속 실행한다.
> 	- B 함수를 호출할 때 **콜백함수**를 함께 준다. B 함수는 자신의 작업이 끝나면 A 함수가 준 콜백 함수를 실행한다(**비동기**).

#### 🍪 사용 사례 (보충 필요)
- [HTTP 클라이언트](https://velog.io/@cosmo_numm/HTTP-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EB%B9%84%EA%B5%90-Rest-API-RestTemplate-WebClient)
- 

---
## 🧙‍♂️ 요약
#### 동기, 비동기 / 블로킹, 논블로킹
> 동기-비동기 : **호출되는 함수의 작업 완료 여부를 함수가 체크하는지**
> 블로킹-논블로킹 : **호출된 함수가 리턴될 때까지 대기하는가 / 제어권을 넘겨주고 다른 일을 할 수 있도록 하는가** 

###### **동기(Synchronous)**:
- **순차적**으로 작업을 처리하는 방식. 한 작업이 끝날 때까지 다음 작업을 진행하지 않음.
- **호출된 함수의 작업 완료 여부를 호출한 함수가 체크**.
###### **비동기(Asynchronous)**:
- 한 작업이 완료되기를 기다리지 않고, **다른 작업을 동시에** 처리할 수 있는 방식.
- **호출하는 함수가 작업 완료 여부를 신경쓰지 않으며** 별도의 스레드에서 실행되도록 할 수 있다.
###### **블로킹(Blocking)**:
- 호출된 함수가 작업이 **끝날 때까지 제어권을 가지고**하고, 호출한 함수는 대기.

**논블로킹(Non-Blocking)**:
- 호출된 함수가 작업을 **시작한 뒤 즉시 제어권을 반환**하여 호출한 함수가 다른 작업을 할 수 있게 해준다.
---
> [!info] 참고 사이트
> [01](https://f-lab.kr/insight/understanding-sync-async-blocking-nonblocking?gad_source=1)
> [02](https://velog.io/@nittre/%EB%B8%94%EB%A1%9C%ED%82%B9-Vs.-%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EB%8F%99%EA%B8%B0-Vs.-%EB%B9%84%EB%8F%99%EA%B8%B0)
> [03](https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC)


